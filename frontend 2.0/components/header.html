<!-- frontend/components/header.html -->
<header class="py-2 header">
  <div class="container">
    <div class="row align-items-center">

      <!-- Logo + Navigation Links -->
      <div class="col-auto d-flex align-items-center">
        <!-- Logo -->
        <a href="../index.html" class="me-3 d-inline-block logo-icon" aria-label="MarAzul - Inicio">
          <i class="fa-solid fa-anchor"></i>
        </a>

        <!-- Desktop Navigation -->
        <nav class="d-none d-md-block" aria-label="Navegación principal">
          <ul class="nav">
            <li class="nav-item">
              <a class="nav-link px-2" href="../index.html">Inicio</a>
            </li>
            <li class="nav-item">
              <a class="nav-link px-2" href="../pages/contacto.html">Contacto</a>
            </li>
            <li class="nav-item">
              <a class="nav-link px-2" href="../pages/quienes-somos.html">Quiénes Somos</a>
            </li>
          </ul>
        </nav>

        <!-- Mobile Menu Button -->
        <button 
          class="btn btn-link header-icon d-md-none ms-2 p-1" 
          type="button"
          data-bs-toggle="offcanvas" 
          data-bs-target="#mobileNav" 
          aria-controls="mobileNav" 
          aria-label="Abrir menú de navegación">
          <i class="bi bi-list fs-4"></i>
        </button>
      </div>

      <!-- Center Column (Spacer) -->
      <div class="col text-center d-none d-md-block"></div>

      <!-- Right Actions -->
      <div class="col-auto d-flex align-items-center gap-2">
        
        <!-- Search Button -->
        <button 
          class="btn btn-link header-icon p-2" 
          type="button"
          data-bs-toggle="modal" 
          data-bs-target="#searchModal" 
          aria-label="Buscar productos">
          <i class="bi bi-search fs-4"></i>
        </button>

        <!-- User Area (Dynamic Content) -->
        <div id="user-area" class="d-flex align-items-center"></div>
        
        <!-- Cart Button -->
        <button 
          class="btn btn-outline-dark btn-sm position-relative"
          type="button"
          aria-label="Ver carrito de compras"
          data-bs-toggle="offcanvas"
          data-bs-target="#carritoOffcanvas"
          aria-controls="carritoOffcanvas">
          <i class="bi bi-cart3"></i>
          <span 
            class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger cart-badge" 
            id="cart-count"
            aria-label="Productos en carrito">
            0
          </span>
        </button>
      </div>

    </div>
  </div>

  <!-- Mobile Navigation Offcanvas -->
  <div 
    class="offcanvas offcanvas-start" 
    tabindex="-1" 
    id="mobileNav" 
    aria-labelledby="mobileNavLabel">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title fw-bold" id="mobileNavLabel">
        <i class="fa-solid fa-anchor text-primary me-2"></i>
        Menú
      </h5>
      <button 
        type="button" 
        class="btn-close" 
        data-bs-dismiss="offcanvas" 
        aria-label="Cerrar menú"></button>
    </div>
    <div class="offcanvas-body">
      <nav aria-label="Navegación móvil">
        <ul class="list-unstyled mb-4">
          <li class="mb-2">
            <a class="d-flex align-items-center py-2 text-decoration-none text-dark" href="../index.html">
              <i class="bi bi-house-door me-2"></i>
              Inicio
            </a>
          </li>
          <li class="mb-2">
            <a class="d-flex align-items-center py-2 text-decoration-none text-dark" href="../pages/contacto.html">
              <i class="bi bi-envelope me-2"></i>
              Contacto
            </a>
          </li>
          <li class="mb-2">
            <a class="d-flex align-items-center py-2 text-decoration-none text-dark" href="../pages/quienes-somos.html">
              <i class="bi bi-info-circle me-2"></i>
              Quiénes Somos
            </a>
          </li>
        </ul>

        <!-- User Section in Mobile -->
        <hr>
        <div id="mobile-user-area"></div>
      </nav>
    </div>
  </div>
</header>

<!-- Search Modal -->
<div 
  class="modal fade" 
  id="searchModal" 
  tabindex="-1" 
  aria-labelledby="searchModalLabel" 
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header border-0 pb-0">
        <h5 class="modal-title fw-bold" id="searchModalLabel">
          <i class="bi bi-search me-2"></i>Buscar Productos
        </h5>
        <button 
          type="button" 
          class="btn-close" 
          data-bs-dismiss="modal" 
          aria-label="Cerrar búsqueda"></button>
      </div>
      <div class="modal-body">
        <form id="search-form" class="mb-3">
          <div class="input-group input-group-lg">
            <input 
              type="search" 
              class="form-control" 
              id="search-input"
              placeholder="Buscar pescados, mariscos..."
              aria-label="Buscar productos"
              autocomplete="off">
            <button class="btn btn-primary" type="submit" aria-label="Buscar">
              <i class="bi bi-search"></i>
            </button>
          </div>
        </form>
        
        <!-- Search Results -->
        <div id="search-results" class="d-none">
          <h6 class="text-muted mb-3">Resultados</h6>
          <div id="search-results-list"></div>
        </div>

        <!-- Popular Searches -->
        <div id="popular-searches">
          <h6 class="text-muted mb-3">Búsquedas Populares</h6>
          <div class="d-flex flex-wrap gap-2">
            <button type="button" class="btn btn-outline-secondary btn-sm search-suggestion" data-query="salmón">
              Salmón
            </button>
            <button type="button" class="btn btn-outline-secondary btn-sm search-suggestion" data-query="camarones">
              Camarones
            </button>
            <button type="button" class="btn btn-outline-secondary btn-sm search-suggestion" data-query="merluza">
              Merluza
            </button>
            <button type="button" class="btn btn-outline-secondary btn-sm search-suggestion" data-query="pulpo">
              Pulpo
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>