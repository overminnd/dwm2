<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Verificaci√≥n Header MarAzul</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      max-width: 800px;
      margin: 50px auto;
      padding: 20px;
      background: #f5f5f5;
    }
    .card {
      background: white;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    h1 {
      color: #003366;
      border-bottom: 3px solid #003366;
      padding-bottom: 10px;
    }
    h2 {
      color: #003366;
      margin-top: 0;
    }
    .check {
      padding: 10px;
      margin: 10px 0;
      border-radius: 4px;
      display: flex;
      align-items: center;
    }
    .check-pass {
      background: #d4edda;
      border-left: 4px solid #28a745;
      color: #155724;
    }
    .check-fail {
      background: #f8d7da;
      border-left: 4px solid #dc3545;
      color: #721c24;
    }
    .icon {
      font-size: 24px;
      margin-right: 10px;
    }
    button {
      background: #003366;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
      margin: 10px 5px;
    }
    button:hover {
      background: #002244;
    }
    .info {
      background: #d1ecf1;
      border-left: 4px solid #0c5460;
      padding: 15px;
      margin: 15px 0;
      border-radius: 4px;
      color: #0c5460;
    }
    code {
      background: #f8f9fa;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'Courier New', monospace;
      color: #e83e8c;
    }
  </style>
</head>
<body>
  <h1>üîç Verificaci√≥n del Header de MarAzul</h1>

  <div class="card">
    <h2>1. Verificaci√≥n de la Lupa</h2>
    <div id="lupa-check"></div>
    <button onclick="checkLupa()">Verificar Lupa</button>
  </div>

  <div class="card">
    <h2>2. Verificaci√≥n de Enlaces</h2>
    <div id="links-check"></div>
    <button onclick="checkLinks()">Verificar Enlaces</button>
  </div>

  <div class="card">
    <h2>3. Verificaci√≥n de Archivos</h2>
    <div id="files-check"></div>
    <button onclick="checkFiles()">Verificar Archivos</button>
  </div>

  <div class="card">
    <h2>4. Informaci√≥n del Sistema</h2>
    <div id="system-info"></div>
    <button onclick="showSystemInfo()">Mostrar Info</button>
  </div>

  <div class="info">
    <strong>üí° Instrucciones:</strong><br>
    1. Coloca este archivo en la misma carpeta que <code>index.html</code><br>
    2. Abre este archivo en el navegador<br>
    3. Haz click en cada bot√≥n de verificaci√≥n<br>
    4. Si algo sale en ROJO, sigue las instrucciones
  </div>

  <script>
    function checkLupa() {
      const container = document.getElementById('lupa-check');
      container.innerHTML = '<p>Verificando...</p>';
      
      fetch('components/header.html')
        .then(res => res.text())
        .then(html => {
          const hasLupa = html.includes('bi-search') || html.includes('searchModal');
          
          if (hasLupa) {
            container.innerHTML = `
              <div class="check check-fail">
                <span class="icon">‚ùå</span>
                <div>
                  <strong>FALLA:</strong> La lupa TODAV√çA est√° en el c√≥digo del header.<br>
                  <small>El archivo <code>components/header.html</code> NO fue actualizado correctamente.</small>
                </div>
              </div>
              <div class="info">
                <strong>Soluci√≥n:</strong><br>
                1. Abre <code>components/header.html</code> con un editor de texto<br>
                2. Busca (Ctrl+F): <code>bi-search</code><br>
                3. Si encuentras esa l√≠nea, el archivo NO est√° actualizado<br>
                4. Copia TODO el contenido del archivo <code>header_FINAL_SIN_LUPA.html</code><br>
                5. Reemplaza TODO el contenido de <code>components/header.html</code><br>
                6. Guarda (Ctrl+S)<br>
                7. Recarga esta p√°gina y vuelve a verificar
              </div>
            `;
          } else {
            container.innerHTML = `
              <div class="check check-pass">
                <span class="icon">‚úÖ</span>
                <div>
                  <strong>CORRECTO:</strong> La lupa fue eliminada exitosamente del header.
                </div>
              </div>
            `;
          }
        })
        .catch(err => {
          container.innerHTML = `
            <div class="check check-fail">
              <span class="icon">‚ùå</span>
              <div>
                <strong>ERROR:</strong> No se pudo cargar el archivo header.html<br>
                <small>${err.message}</small><br>
                <small>Verifica que este archivo est√© en la misma carpeta que index.html</small>
              </div>
            </div>
          `;
        });
    }

    function checkLinks() {
      const container = document.getElementById('links-check');
      container.innerHTML = '<p>Verificando...</p>';
      
      fetch('components/header.html')
        .then(res => res.text())
        .then(html => {
          const hasAbsolutePaths = html.includes('href="/MARAZUL/MARAZUL/');
          const hasRelativePaths = html.includes('href="index.html"') || html.includes('href="components/');
          
          let result = '';
          
          if (hasAbsolutePaths) {
            result += `
              <div class="check check-fail">
                <span class="icon">‚ùå</span>
                <div>
                  <strong>PROBLEMA:</strong> El header tiene rutas absolutas que no funcionan.<br>
                  <small>Encontrado: <code>/MARAZUL/MARAZUL/...</code></small>
                </div>
              </div>
            `;
          }
          
          if (hasRelativePaths) {
            result += `
              <div class="check check-pass">
                <span class="icon">‚úÖ</span>
                <div>
                  <strong>CORRECTO:</strong> El header usa rutas relativas correctas.
                </div>
              </div>
            `;
          }
          
          if (!hasAbsolutePaths && !hasRelativePaths) {
            result += `
              <div class="check check-fail">
                <span class="icon">‚ö†Ô∏è</span>
                <div>
                  <strong>ADVERTENCIA:</strong> No se encontraron enlaces en el header.
                </div>
              </div>
            `;
          }
          
          container.innerHTML = result;
        })
        .catch(err => {
          container.innerHTML = `
            <div class="check check-fail">
              <span class="icon">‚ùå</span>
              <div>
                <strong>ERROR:</strong> ${err.message}
              </div>
            </div>
          `;
        });
    }

    function checkFiles() {
      const container = document.getElementById('files-check');
      container.innerHTML = '<p>Verificando archivos...</p>';
      
      const files = [
        'index.html',
        'components/header.html',
        'components/contacto.html',
        'components/quienes-somos.html',
        'css/style.css'
      ];
      
      let results = '';
      let checksCompleted = 0;
      
      files.forEach(file => {
        fetch(file, { method: 'HEAD' })
          .then(res => {
            if (res.ok) {
              results += `
                <div class="check check-pass">
                  <span class="icon">‚úÖ</span>
                  <div><code>${file}</code> existe</div>
                </div>
              `;
            } else {
              results += `
                <div class="check check-fail">
                  <span class="icon">‚ùå</span>
                  <div><code>${file}</code> NO encontrado</div>
                </div>
              `;
            }
          })
          .catch(() => {
            results += `
              <div class="check check-fail">
                <span class="icon">‚ùå</span>
                <div><code>${file}</code> ERROR al verificar</div>
              </div>
            `;
          })
          .finally(() => {
            checksCompleted++;
            if (checksCompleted === files.length) {
              container.innerHTML = results;
            }
          });
      });
    }

    function showSystemInfo() {
      const container = document.getElementById('system-info');
      
      const info = {
        'URL actual': window.location.href,
        'Protocolo': window.location.protocol,
        'Host': window.location.host,
        'Puerto': window.location.port || '(por defecto)',
        'Pathname': window.location.pathname,
        'Navegador': navigator.userAgent.split(')')[0] + ')',
        'LocalStorage disponible': typeof localStorage !== 'undefined' ? 'S√≠' : 'No'
      };
      
      let html = '<table style="width:100%; border-collapse: collapse;">';
      for (let [key, value] of Object.entries(info)) {
        html += `
          <tr>
            <td style="padding: 8px; border-bottom: 1px solid #ddd; font-weight: bold;">${key}</td>
            <td style="padding: 8px; border-bottom: 1px solid #ddd;"><code>${value}</code></td>
          </tr>
        `;
      }
      html += '</table>';
      
      container.innerHTML = html;
    }

    // Auto-verificar al cargar
    window.addEventListener('load', () => {
      console.log('üîç Herramienta de verificaci√≥n cargada');
      console.log('Haz click en los botones para verificar cada componente');
    });
  </script>
</body>
</html>